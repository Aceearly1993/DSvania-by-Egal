.nds
.relativeinclude on
.erroronwarning on

Overlay41Start equ 0x02308920


.open "ftc/arm9.bin", 0x2000000
.org 0x200D880
bl NewIconCheckRoutine
;F6 - 22A1AA0

.close


.open "ftc/overlay9_0", 0x219E3E0

; Changes code to allow for Soma and up to 0x10 characters in Julius mode

.org 0x21F6B88	;reads 4 bytes instead of 1
ldr r2,[r0,0xA78]
.org 0x21F6BB8	;icon display, graphic
cmp r10,0x10
.org 0x21F6BC4	;icon display, quantity
cmp r9,0x10
.org 0x21F6B64
add r0,r0,0x1C000
.org 0x21F6BA8
bl CheckDrawSecondRow
mov r3,r3

.org 0x21FC794
ldr r3,[r1,0xA78];reads 4 bytes instead of 1
.org 0x21FC7A8	;lowest character ID to loop down to
cmp r0,0x10
movcs r0,0x0
.org 0x21FC7C0	;how many times to loop for character check
cmp r12,0x10

.org 0x21FC4FC	;checks if Soma for soul toggle
ldrsb r0,[r0,0x44]
cmp r0,0x0F
ldmgtfd r13!,{r4,r15}
mov r3,r3
.org 0x21FC510	;subtracts one from character ID for table
mov r3,r3	;sub r0,r0,0x1
.org 0x21FC58C
.dw JuliusModeSoulTable	;222DED4
.org 0x21F6CB0
.dw JuliusModeSoulTable
.org 0x21FF9F0
.dw JuliusModeSoulTable

.org 0x21F6B34	;adjusts table read to character ID instead of -1, subweapon+char icons
mov r10,r5
.org 0x21F6B80	;adjusts character icons
add r1,r10,0	;add r1,r10,1
.org 0x21F6B98	;character icon offset
add r1,r10,0x3700	;add r1,r10,0xF3

.org 0x21FF988	;checks if swaps to Soma
cmp r1,0x0F
addgt r13,r13,0x4C
ldmgtfd r13!,{r4-r11,r15}
bl CheckGamemode_swap

.org 0x21FF99C	;sets subweapon on character swap
sub r3,r1,0x0	;sub r3,r1,0x0

.org 0x21FF8D4
cmp r11,0x0F
strh r0,[r3,0x42]
b CharacterSwapSetup_expanded
b 0x21FF974
b CharacterSwapSetup_Soma

.org 0x21F5F78	;unlocks Julius and Soma from the get-go
orr r1,r1,0x3
	;01 - Soma			;0x0
	;02 - Julius		;0x1
	;04 - Yoko			;0x2
	;08 - Alucard		;0x3
	;10 - Hammer		;0x4
	;20 - Jonathan		;0x5
	;40 - Charlotte		;0x6
	;80 - Richter		;0x7
	;100- Maria			;0x8
	;200- Stella		;0x9
	;400- Loretta		;0xA
	;800- old axe armor	;0xB
	;1000-Shanoa		;0xC
	;2000-Albus			;0xD


.org 0x21FC734
add r0,r2,r0,lsl 0x6	;0x40 bytes/character
.org 0x21FC778
.dw VoiceClipTable_swap


.close



.open "ftc/overlay9_3", 0x229E600

;.org 0x22A1A70	;character icons, 0xC/entry
;.dw 0x5000000
;.dw 0x0
;.dw SomaCharacterIcon

.org 0x22A00B6	;change Julius to purple to be different from Soma
.dh 0x7
.org 0x22A00C6
.dh 0x7
.org 0x22A00D6
.dh 0x7
.org 0x22A00E6
.dh 0x7

.close




.open "ftc/overlay9_41", Overlay41Start

.org Overlay41Start+0x12E0

JuliusModeSoulTable:
.dh 0x4
.dh 0x3719
.dw SoulList_Soma

.dh 0x4
.dh 0xFB
.dw 0x222DEB8

.dh 0x3
.dh 0xF8
.dw 0x222DE90

.dh 0x2
.dh 0xF6
.dw 0x222DE8C

.dh 0x3
.dh 0x371D
.dw SubweaponList_Hammer

.dh 0x2
.dh 0x371D
.dw 0x222DEB8

.dh 0x2
.dh 0x3721
.dw 0x222DEB8

.dh 0x2
.dh 0xFB
.dw 0x222DEB8

.dh 0x3
.dh 0xFB
.dw SkillList_Johnathan

.dh 0x4
.dh 0xF8
.dw SpellList_Charlotte


SoulList_Soma:
.dh 0x16	;malachi
.dh 0x2		;paranoia
.dh 0x3		;imp
.dh 0x1		;zephyr

SubweaponList_Hammer:
.dh 0x9		;bomb
.dh 0x17	;disc
.dh 0x18	;axe

SkillList_Johnathan:
.dh 0x13	;knife
.dh 0x21	;javelin
.dh 0x10	;mandragora

SpellList_Charlotte:
.dh 0x11
.dh 0x1B
.dh 0x2B
.dh 0x22
.dh 0x7


.align 4
CharacterSwapSetup_expanded:
addls r15,r15,r11,lsl 0x2
b 0x21FF974	;null
b CharacterSwapSetup_Soma	;00
b 0x21FF918	;01
b 0x21FF95C	;02
b 0x21FF8F4	;03
b CharacterSwapSetup_Hammer	;04
b 0x21FF918
b CharacterSwapSetup_Charlotte	;06
b 0x21FF974
b 0x21FF974
b 0x21FF974
b 0x21FF974
b 0x21FF974
b 0x21FF974
b 0x21FF974
b 0x21FF974
b 0x21FF974
b 0x21FF974


CheckGamemode_swap:
ldr r0,=0x208AC20
ldr r0,[r0]
add r0,r0,0x36000
ldrb r0,[r0,0xA76]
cmp r0,0x0
addeq r13,r13,0x4C
ldmeqfd r13!,{r4-r11,r15}
bx r14
.pool


CharacterSwapSetup_Soma:
ldr r0,=0x208AC20
ldr r0,[r0]
add r0,r0,0x36000
ldrb r0,[r0,0xA77]
cmp r0,0x0
beq 0x21FF974
add r1,r9,0x2C
mov r0,r9
ldmia r1,{r1-r3}
bl 0x21D647C
ldr r0,=0x208AC20
mov r3,0x46
ldr r0,[r0]
ldr r2,=0x40001
add r1,r0,0x36C00
mov r0,r9
strh r3,[r1,0x40]
add r3,r9,0x100
mov r4,0x32
mov r1,0xA
strh r4,[r3,0x42]
bl 0x20143D4
b 0x21FF974


CharacterSwapSetup_Hammer:
add r1,r9,0x2C
mov r0,r9
ldmia r1,{r1-r3}
bl 0x21D647C
ldr r0,=0x208AC20
mov r3,0x41
ldr r0,[r0]
ldr r2,=0x40001
add r1,r0,0x36C00
mov r0,r9
strh r3,[r1,0x40]
add r3,r9,0x100
mov r4,0x32
mov r1,0xA
strh r4,[r3,0x42]
bl 0x20143D4
b 0x21FF974

CharacterSwapSetup_Charlotte:
add r1,r9,0x2C
mov r0,r9
ldmia r1,{r1-r3}
bl 0x21D647C
ldr r0,=0x208AC20
mov r3,0x4B
ldr r0,[r0]
ldr r2,=0x40001
add r1,r0,0x36C00
mov r0,r9
strh r3,[r1,0x40]
add r3,r9,0x100
mov r4,0x32
mov r1,0xA
strh r4,[r3,0x42]
bl 0x20143D4
b 0x21FF974


CharacterIcon_Soma:
.dw 0xFFF8FFF8	;???
.dh 0x70	;coordinates on sheet
.dh 0x20
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x1F	;palette

.dw 0xFFFEFFFE	;frame, bottom-right
.dh 0x60
.dh 0x20
.dh 0xC
.dh 0xC
.dh 0x301
.dh 0x9

.dw 0xFFFEFFF6	;frame, bottom-left
.dh 0x60
.dh 0x20
.dh 0xC
.dh 0xC
.dh 0x101
.dh 0x9

.dw 0xFFF6FFF6	;frame, top-left
.dh 0x60
.dh 0x20
.dh 0xC
.dh 0xC
.dh 0x1
.dh 0x9

.dw 0xFFF6FFFE	;frame, top-right
.dh 0x60
.dh 0x20
.dh 0xC
.dh 0xC
.dh 0x201
.dh 0x9



CharacterIcon_Hammer:
.dw 0xFFF8FFF8	;???
.dh 0x70	;coordinates on sheet
.dh 0x20
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x1F	;palette

.dw 0xFFFEFFFE	;frame, bottom-right
.dh 0x60
.dh 0x20
.dh 0xC
.dh 0xC
.dh 0x301
.dh 0x5

.dw 0xFFFEFFF6	;frame, bottom-left
.dh 0x60
.dh 0x20
.dh 0xC
.dh 0xC
.dh 0x101
.dh 0x5

.dw 0xFFF6FFF6	;frame, top-left
.dh 0x60
.dh 0x20
.dh 0xC
.dh 0xC
.dh 0x1
.dh 0x5

.dw 0xFFF6FFFE	;frame, top-right
.dh 0x60
.dh 0x20
.dh 0xC
.dh 0xC
.dh 0x201
.dh 0x5


CharacterIcon_Jonathan:
.dw 0xFFF8FFF8	;???
.dh 0x70	;coordinates on sheet
.dh 0x20
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x1F	;palette

.dw 0xFFFEFFFE	;frame, bottom-right
.dh 0x60
.dh 0x20
.dh 0xC
.dh 0xC
.dh 0x301
.dh 0x2

.dw 0xFFFEFFF6	;frame, bottom-left
.dh 0x60
.dh 0x20
.dh 0xC
.dh 0xC
.dh 0x101
.dh 0x2

.dw 0xFFF6FFF6	;frame, top-left
.dh 0x60
.dh 0x20
.dh 0xC
.dh 0xC
.dh 0x1
.dh 0x2

.dw 0xFFF6FFFE	;frame, top-right
.dh 0x60
.dh 0x20
.dh 0xC
.dh 0xC
.dh 0x201
.dh 0x2



CharacterIcon_Charlotte:
.dw 0xFFF8FFF8	;???
.dh 0x70	;coordinates on sheet
.dh 0x20
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x1F	;palette

.dw 0xFFFEFFFE	;frame, bottom-right
.dh 0x60
.dh 0x20
.dh 0xC
.dh 0xC
.dh 0x301
.dh 0x6

.dw 0xFFFEFFF6	;frame, bottom-left
.dh 0x60
.dh 0x20
.dh 0xC
.dh 0xC
.dh 0x101
.dh 0x6

.dw 0xFFF6FFF6	;frame, top-left
.dh 0x60
.dh 0x20
.dh 0xC
.dh 0xC
.dh 0x1
.dh 0x6

.dw 0xFFF6FFFE	;frame, top-right
.dh 0x60
.dh 0x20
.dh 0xC
.dh 0xC
.dh 0x201
.dh 0x6




SkillIcon_Julius1:
.dw 0xFFF8FFF8	;???
.dh 0x70	;coordinates on sheet
.dh 0x10
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x9	;palette

.dw 0xFFF6FFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x01
.dh 0x1E
.dw 0xFFF60000	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x201
.dh 0x1E
.dw 0xFFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x101
.dh 0x1E
.dw 0x0	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x301
.dh 0x1E


SkillIcon_Julius2:
.dw 0xFFF8FFF8	;???
.dh 0x60	;coordinates on sheet
.dh 0x10
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x6	;palette

.dw 0xFFF6FFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x01
.dh 0x1E
.dw 0xFFF60000	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x201
.dh 0x1E
.dw 0xFFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x101
.dh 0x1E
.dw 0x0	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x301
.dh 0x1E


SkillIcon_Julius3:
.dw 0xFFF8FFF8	;???
.dh 0x00	;coordinates on sheet
.dh 0x20
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x0	;palette

.dw 0xFFF6FFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x01
.dh 0x1E
.dw 0xFFF60000	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x201
.dh 0x1E
.dw 0xFFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x101
.dh 0x1E
.dw 0x0	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x301
.dh 0x1E


SkillIcon_Julius4:
.dw 0xFFF8FFF8	;???
.dh 0x10	;coordinates on sheet
.dh 0x20
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x6	;palette

.dw 0xFFF6FFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x01
.dh 0x1E
.dw 0xFFF60000	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x201
.dh 0x1E
.dw 0xFFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x101
.dh 0x1E
.dw 0x0	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x301
.dh 0x1E


SkillIcon_Yoko1:
.dw 0xFFF8FFF8	;???
.dh 0x30	;coordinates on sheet
.dh 0x10
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x1	;palette

.dw 0xFFF6FFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x01
.dh 0x1E
.dw 0xFFF60000	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x201
.dh 0x1E
.dw 0xFFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x101
.dh 0x1E
.dw 0x0	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x301
.dh 0x1E


SkillIcon_Yoko2:
.dw 0xFFF8FFF8	;???
.dh 0x40	;coordinates on sheet
.dh 0x10
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x0	;palette

.dw 0xFFF6FFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x01
.dh 0x1E
.dw 0xFFF60000	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x201
.dh 0x1E
.dw 0xFFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x101
.dh 0x1E
.dw 0x0	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x301
.dh 0x1E


SkillIcon_Yoko3:
.dw 0xFFF8FFF8	;???
.dh 0x50	;coordinates on sheet
.dh 0x10
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x6	;palette

.dw 0xFFF6FFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x01
.dh 0x1E
.dw 0xFFF60000	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x201
.dh 0x1E
.dw 0xFFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x101
.dh 0x1E
.dw 0x0	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x301
.dh 0x1E



SkillIcon_Alucard1:
.dw 0xFFF8FFF8	;???
.dh 0x10	;coordinates on sheet
.dh 0x10
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x1	;palette

.dw 0xFFF6FFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x01
.dh 0x1E
.dw 0xFFF60000	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x201
.dh 0x1E
.dw 0xFFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x101
.dh 0x1E
.dw 0x0	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x301
.dh 0x1E


SkillIcon_Alucard2:
.dw 0xFFF8FFF8	;???
.dh 0x20	;coordinates on sheet
.dh 0x10
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x3	;palette

.dw 0xFFF6FFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x01
.dh 0x1E
.dw 0xFFF60000	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x201
.dh 0x1E
.dw 0xFFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x101
.dh 0x1E
.dw 0x0	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x301
.dh 0x1E



SkillIcon_Soma1:
.dw 0xFFF8FFF8	;???
.dh 0x00	;coordinates on sheet
.dh 0x20
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x8	;palette

.dw 0xFFF6FFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x01
.dh 0x1E
.dw 0xFFF60000	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x201
.dh 0x1E
.dw 0xFFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x101
.dh 0x1E
.dw 0x0	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x301
.dh 0x1E


SkillIcon_Soma2:
.dw 0xFFF8FFF8	;???
.dh 0x00	;coordinates on sheet
.dh 0x10
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x8	;palette

.dw 0xFFF6FFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x01
.dh 0x1E
.dw 0xFFF60000	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x201
.dh 0x1E
.dw 0xFFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x101
.dh 0x1E
.dw 0x0	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x301
.dh 0x1E


SkillIcon_Soma3:
.dw 0xFFF8FFF8	;???
.dh 0x20	;coordinates on sheet
.dh 0x20
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x2	;palette

.dw 0xFFF6FFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x01
.dh 0x1E
.dw 0xFFF60000	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x201
.dh 0x1E
.dw 0xFFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x101
.dh 0x1E
.dw 0x0	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x301
.dh 0x1E


SkillIcon_Soma4:
.dw 0xFFF8FFF8	;???
.dh 0x20	;coordinates on sheet
.dh 0x20
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x9	;palette

.dw 0xFFF6FFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x01
.dh 0x1E
.dw 0xFFF60000	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x201
.dh 0x1E
.dw 0xFFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x101
.dh 0x1E
.dw 0x0	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x301
.dh 0x1E



SkillIcon_Hammer1:
.dw 0xFFF8FFF8	;???
.dh 0x20	;coordinates on sheet
.dh 0x20
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0xA	;palette

.dw 0xFFF6FFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x01
.dh 0x1E
.dw 0xFFF60000	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x201
.dh 0x1E
.dw 0xFFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x101
.dh 0x1E
.dw 0x0	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x301
.dh 0x1E


SkillIcon_Hammer2:
.dw 0xFFF8FFF8	;???
.dh 0x00	;coordinates on sheet
.dh 0x20
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x9	;palette

.dw 0xFFF6FFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x01
.dh 0x1E
.dw 0xFFF60000	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x201
.dh 0x1E
.dw 0xFFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x101
.dh 0x1E
.dw 0x0	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x301
.dh 0x1E


SkillIcon_Hammer3:
.dw 0xFFF8FFF8	;???
.dh 0x70	;coordinates on sheet
.dh 0x10
.dh 0x10	;size
.dh 0x10
.dh 0x1
.dh 0x8	;palette

.dw 0xFFF6FFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x01
.dh 0x1E
.dw 0xFFF60000	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x201
.dh 0x1E
.dw 0xFFF6	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x101
.dh 0x1E
.dw 0x0	;frame
.dh 0x00
.dh 0x10
.dh 0xA
.dh 0xA
.dh 0x301
.dh 0x1E



.align 4
NewIconCheckRoutine:
mov r2,0x0
ldr r3,=0x3700
cmp r0,r3
bxlt r14
ldr r5,=NewIconTable
bic r3,r0,0x3700
add r15,r14,0x14
.pool


CheckDrawSecondRow:
ldr r0,[r8]
add r0,r0,0xC000
ldr r1,=0xD8000
cmp r0,r1
bxlt r14
ldr r0,[r8,0x4]
ldr r1,=0x14000
add r0,r0,r1
str r0,[r8,0x4]
ldr r0,=0x9C000
bx r14
.pool


NewIconTable:
;character icons, 0xC/entry
.dw 0x5000000
.dw 0x0
.dw CharacterIcon_Soma

.dw 0x5000000
.dw 0x0
.dw 0x22A0098

.dw 0x5000000
.dw 0x0
.dw 0x22A00E8

.dw 0x5000000
.dw 0x0
.dw 0x22A0138

.dw 0x5000000
.dw 0x0
.dw CharacterIcon_Hammer

.dw 0x5000000
.dw 0x0
.dw CharacterIcon_Jonathan

.dw 0x5000000
.dw 0x0
.dw CharacterIcon_Charlotte

.dw 0x5000000
.dw 0x0
.dw CharacterIcon_Soma	;.dw CharacterIcon_Richter

.dw 0x5000000
.dw 0x0
.dw CharacterIcon_Soma	;.dw CharacterIcon_Maria

.dw 0x5000000
.dw 0x0
.dw CharacterIcon_Soma	;.dw CharacterIcon_oldaxearmor

.dw 0x5000000
.dw 0x0
.dw CharacterIcon_Soma	;.dw CharacterIcon_Shanoa

.dw 0x5000000
.dw 0x0
.dw CharacterIcon_Soma	;.dw CharacterIcon_Albus

.dw 0x5000000
.dw 0x0
.dw CharacterIcon_Soma	;.dw CharacterIcon_0xC

.dw 0x5000000
.dw 0x0
.dw CharacterIcon_Soma	;.dw CharacterIcon_0xD

.dw 0x5000000
.dw 0x0
.dw CharacterIcon_Soma	;.dw CharacterIcon_0xE

.dw 0x5000000
.dw 0x0
.dw CharacterIcon_Soma	;.dw CharacterIcon_0xF

.dw 0x5000000
.dw 0x0
.dw SkillIcon_Julius1
.dw 0x5000000
.dw 0x0
.dw SkillIcon_Julius2
.dw 0x5000000
.dw 0x0
.dw SkillIcon_Julius3
.dw 0x5000000
.dw 0x0
.dw SkillIcon_Julius4

.dw 0x5000000
.dw 0x0
.dw SkillIcon_Yoko1
.dw 0x5000000
.dw 0x0
.dw SkillIcon_Yoko2
.dw 0x5000000
.dw 0x0
.dw SkillIcon_Yoko3

.dw 0x5000000
.dw 0x0
.dw SkillIcon_Alucard1
.dw 0x5000000
.dw 0x0
.dw SkillIcon_Alucard2

.dw 0x5000000
.dw 0x0
.dw SkillIcon_Soma1
.dw 0x5000000
.dw 0x0
.dw SkillIcon_Soma2
.dw 0x5000000
.dw 0x0
.dw SkillIcon_Soma3
.dw 0x5000000
.dw 0x0
.dw SkillIcon_Soma4

.dw 0x5000000
.dw 0x0
.dw SkillIcon_Hammer1
.dw 0x5000000
.dw 0x0
.dw SkillIcon_Hammer2
.dw 0x5000000
.dw 0x0
.dw SkillIcon_Hammer3




VoiceClipTable_swap:
.dw 0xFFFFFFFF;0x5067
.dw 0x5064
.dw 0x5065
.dw 0x5066
.dw 0x50FD
.dw 0x50FD
.dw 0x50FD
.dw 0x50FD
.dw 0x50FD
.dw 0x50FD
.dw 0x50FD
.dw 0x50FD
.dw 0x50FD
.dw 0x50FD
.dw 0x50FD
.dw 0x50FD

;.org 0x222DF78
.dw 0x5134	;julius -> soma
.dw 0xFFFFFFFF
.dw 0x5137
.dw 0x5136
.dw 0x5135
.dw 0x5135
.dw 0x5135
.dw 0x5135
.dw 0x5135
.dw 0x5135
.dw 0x5135
.dw 0x5135
.dw 0x5135
.dw 0x5135
.dw 0x5135
.dw 0x5135

;.org 0x222DF88
.dw 0x5120	;yoko -> soma
.dw 0x5122
.dw 0xFFFFFFFF
.dw 0x5121
.dw 0x511F
.dw 0x511F
.dw 0x511F
.dw 0x511F
.dw 0x511F
.dw 0x511F
.dw 0x511F
.dw 0x511F
.dw 0x511F
.dw 0x511F
.dw 0x511F
.dw 0x511F

;.org 0x222DF98
.dw 0x50BF	;alucard -> soma
.dw 0x50C0
.dw 0x50BE
.dw 0xFFFFFFFF
.dw 0x50BE
.dw 0x50BE
.dw 0x50BE
.dw 0x50BE
.dw 0x50BE
.dw 0x50BE
.dw 0x50BE
.dw 0x50BE
.dw 0x50BE
.dw 0x50BE
.dw 0x50BE
.dw 0x50BE

.dw 0x50C6	;hammer -> soma
.dw 0x50C6
.dw 0x50C6
.dw 0x50C6
.dw 0xFFFFFFFF
.dw 0x50C6
.dw 0x50C6
.dw 0x50C6
.dw 0x50C6
.dw 0x50C6
.dw 0x50C6
.dw 0x50C6
.dw 0x50C6
.dw 0x50C6
.dw 0x50C6
.dw 0x50C6

.close


